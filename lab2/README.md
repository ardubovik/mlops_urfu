# MLOps. Практическое задание №2

### Цель: создать простейший конвейер для автоматизации работы с моделью машинного обучения с использованием Jenkins

### Решение: 
Создан простейший конвейер для автоматизации работы с моделью машинного обучения. Отдельные этапы конвейера машинного обучения описываются в разных python–скриптах, которые соединяются и запускаются с помощью bash-скрипта. В файле `Dockerfile` описан пайплайн установки jenkins, python и java. Запустить можно через скрипт `docker_build.sh`, который создаёт образ и запускает его на основе `Dockerfile`. В файле `Jenkinsfile` описан пайплайн активации виртуального окружения pyton, установки нужных зависимостей и запуск скриптов работы с даннимы и моделью.

### Структура каталогов и файлов
- src - файлы генерации, обработки данных, создания модели и тестирования данных
    - data_creation.py
        - функция генерации данных для обучения и тестирования
    - model_preprocessing.py
        - предобработка (стандартизация) данных
    - model_preparation.py
        - создание и обучение модели
        - метрики на тренировочных данных
    - model_testing.py
        - тестирование модели
        - оценки метрик обученной модели
    - common.py
        - класс хранения данных
        - класс получения метрик
- scripts/docker_build.sh - скрипт создания образа Jenkins и запуска его на основе `Dockerfile`
- requirements.txt - зависимости
- README.md - описание
- Dockerfile - описание пайплайна установки jenkins
- Jenkinsfile - пайплайн описания активации виртуального окружения pyton, установки нужных зависимостей и запуск скриптов работы с даннимы и моделью.

### Запуск локально:

1. Важно!!! Перейти в каталог `lab2/scripts/` (docker_build.sh необходимо запускать непосредственно из каталога scripts)
2. Установить права на скрипт: `chmod +x docker_build.sh`
3. Запустить скрипт `./docker_build.sh`
4. Перейти на `http://localhost:8080/`
5. Настроить Item, дабавив ссылки на репозиторий github, credentials и пать до Jenkinsfile.
6. Нажать кнопку: `Собрать сейчас`

### Результат работы:
В docker создастся и запустится контейнер с Jenkins, установятся его зависимости, установятся зависимости проекта и будет выполнен пайплайн работы с моделью.

### Требования:
Python 3.9+
Библиотеки:
numpy
pandas
scikit-learn
joblib

### Улучшения:
В lab2 используется логистическая регрессия. Добавлен классификатор RandomForestClassifier, что улучшило результаты на обучающей выборке, но немного ухудшило на валидационной. Возможно необходимо ещё детальнее поработать с параметрами классификатора, в частности со значениями n_estimators и random_state.

### Лицензия
MIT License